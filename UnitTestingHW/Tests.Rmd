---
title: "Tests"
author: "Michelle Kelly"
date: "`r format(Sys.time(), '%d %B, %Y')`"
output: 
  pdf_document
---

```{r dataLoad_source}
source("dataLoad.R")
```

```{r dataLoad_test_1}
# verify that an error is returned if data file does not exist in directory
#
# specify non-existant file path
filepath <- "./input_data/FileThatDoesn'tExist.csv"

# display output of script to user, should return error message
output_dataLoad <- dataLoad(filepath)

# test is passed if script returns error
if (tryCatch(input, error = function(c) "Error") == "Error"){
  print("Passed")
} else {
  print("Failed")
}
```

```{r dataLoad_test_2}
# verify that column names of raw data are as expected
#     have yet to build this in as a loop in the function itself

# create a dummy .csv that has an incorrect column name
# filepath <- "./pathTo/Dummy.csv"

# output_dataLoad <- dataLoad(filepath)

# if (warning returned by function){
#   print("passed")
# } else {
#   print("failed")
# }

# should print failed in this instance
```

```{r dataPrep_source}
source("dataPrep.R")
```

```{r dataPrep_test_1}
# check that all column classes are correct before executing function (particularly dateTime)

# output_dataLoad$dateTime <- as.character(output_dataLoad$dateTime)

# output_dataPrep <- dataPrep(output_dataLoad)

# if (warning returned by function){
#   print("passed")
# } else {
#   print("failed")
# }

# should print failed in this instance
```

```{r dataPrep_test_2}
# check that columns have the correct names, because function references these names internally

# names(output_dataLoad)[names(output_dataLoad == "WaterTemp_C"] <- "wrongName"

# output_dataPrep <- dataPrep(output_dataLoad)

# if (warning returned by function){
#   print("passed")
# } else {
#   print("failed")
# }

# should print failed in this instance
```

```{r metabolismModeling_source}
source("metabolismModeling.R")
```

```{r metabolismModeling_test_1}
# return warning if na present in any row of input dataframe, this will break model

# introduce an NA into the data frame. everything else about the data frame should be fine
# output_dataPrep$DO.obs[1] <- NA

# output_metabolismModeling <- dataPrep(output_dataPrep)

# if (warning returned by function){
#   print("passed")
# } else {
#   print("failed")
# }

# should print failed in this instance
```

```{r metabolismModeling_test_2}
# return warning if the necessary data ("solar.time", "DO.obs", "DO.sat", "depth", "temp.water", "light") is not present within the input dataframe 

# names(output_dataPrep)[names(output_dataPrep == "DO.obs"] <- "wrongName"

# output_metabolismModeling <- dataPrep(output_dataPrep)

# if (warning returned by function){
#   print("passed")
# } else {
#   print("failed")
# }

# should print failed in this instance
```
